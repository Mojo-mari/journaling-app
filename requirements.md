# 要件定義 (Requirement Definition)

## 1. プロジェクト概要
アナログのシステム手帳（デイリー・ウィークリー）の機能をデジタル化したジャーナリングアプリ。

### 1.1 プロジェクトの目的
- アナログ手帳の機能をデジタル化し、複数デバイスで利用可能にする
- オフライン動作とクラウド同期の両立
- 過去データの検索・閲覧、統計・可視化による自己分析の支援

### 1.2 ターゲットユーザー
- 個人利用者（自分自身）
- 将来的に他のユーザーにも提供（マルチユーザー対応）

### 1.3 開発環境
- Cursorを使用した個人開発

## 2. 機能要件 (画像からの抽出)

### 2.1 デイリープランニング (Daily Planning)
- **感謝 (Gratitude)**: 今日感謝していること（3項目）
- **今日の意図 (Intention for the day)**: 今日の目標や意識すること
- **最優先事項 (Most Important Task)**:
  - 1つの主要タスク
  - 目標時間（Target）、実績（Actual）、進捗追跡（30分単位のセッション）
- **重要タスク (Secondary Tasks of Importance)**:
  - 2つのサブタスク
  - 進捗追跡
- **追加タスク (Additional Tasks)**:
  - 2つの追加タスク
  - 進捗追跡
- **振り返り**:
  - 今日のハイライト (Highlight of the Day)
  - 今日学んだこと (What did I learn today?)
  - 覚えておきたいこと (What do I want to remember from today?)
- **トラッカー**:
  - ハビットトラッカー (Habit Tracker)
  - ムードトラッカー (Mood Tracker - 5段階)
  - 今日の満足度 (Rate Day - 1〜5)
- **タイムライン**:
  - 06:00 〜 21:30 のスケジュール管理（30分刻み）

### 2.2 ウィークリープランニング (Weekly Planning)
- **今週の意図 (Intention for the week)**
- **今週の最優先事項 (Five Most Important Tasks)**: 5つ
- **重要タスク (Secondary Tasks of Importance)**: 5つ
- **追加タスク (Additional Tasks)**: 5つ

### 2.3 データ管理・分析機能（重要機能）
- **検索機能**: 過去のエントリーをキーワードで検索
- **過去データの閲覧**: カレンダーやリストから過去のエントリーにアクセス
- **統計・可視化**（優先機能）:
  - ハビットトラッカーの推移グラフ
  - ムード・満足度の推移
  - タスク完了率の統計
  - 時間使用の分析
  - 週次・月次・年次の傾向分析
- **自動計算**: タスク時間の合計、進捗率の自動計算
- **エクスポート機能**: データをCSV、JSON形式でエクスポート

## 3. 非機能要件 (Non-Functional Requirements)

### 3.1 パフォーマンス
- アプリ起動時間: 3秒以内
- データ保存・読み込み: 1秒以内
- スムーズなスクロール・操作感（60fps）

### 3.2 セキュリティ・プライバシー
- 個人データの暗号化保存
- **認証機能（必須）**: マルチユーザー対応のため
- **データのバックアップ・復元機能（必須）**: 自動バックアップと手動復元

### 3.3 可用性・信頼性
- **オフライン動作（必須）**: ローカルデータ保存でオフラインでも利用可能
- **クラウド同期（必須）**: 複数デバイス間でのデータ同期
- データ損失の防止（自動保存、定期的なバックアップ）
- エラー時の適切なフィードバック
- 同期競合の解決機能

### 3.4 ユーザビリティ
- 直感的なUI/UX（アナログ手帳に近い操作感）
- レスポンシブデザイン（各種デバイス対応）
- アクセシビリティ対応（基本的なレベル）

## 4. UI/UX要件

### 4.1 デザイン原則（重要）
- **見た目・デザイン重視**: 生成り（クリーム色）ベースで落ち着いた、アナログ手帳の温かみを感じられるビジュアル
- ミニマルで集中を妨げないデザイン
- **書きやすさ・操作性重視**: 直感的でストレスフリーな入力体験
- カスタマイズ可能なテーマ（デフォルト：生成りベースのライトモード、ダークモード対応）
- レスポンシブデザイン（スマートフォン・タブレット・PC対応）

### 4.2 ナビゲーション
- **初期画面**: ウィークリービュー（今週の画面）
- 日次・週次ビューの切り替えが容易
- 過去のエントリーへのアクセス
- 検索・フィルタリング機能

### 4.3 入力体験
- キーボードショートカット対応
- テンプレート機能（よく使う項目の再利用）
- 自動補完・提案機能

## 5. データモデル

### 5.1 エンティティ
- **DailyEntry**: 1日のエントリー
  - 日付、感謝、意図、タスク、振り返り、トラッカー、タイムライン
- **WeeklyEntry**: 1週間のエントリー
  - 週の開始日、意図、タスクリスト
- **Habit**: 習慣項目（名前、カテゴリ）
- **Task**: タスク項目（タイトル、優先度、時間記録、進捗）

### 5.2 データ関係
- DailyEntry は複数の Task を持つ
- WeeklyEntry は複数の Task を持つ
- Habit は DailyEntry と関連付けられる

## 6. ユーザーストーリー

### 6.1 デイリープランニング
- ユーザーは朝、今日の意図と最優先タスクを設定できる
- ユーザーは30分単位でタスクの進捗を記録できる
- ユーザーは夜、振り返りとトラッカーを記入できる

### 6.2 ウィークリープランニング
- ユーザーは週の初めに今週の意図とタスクを設定できる
- ユーザーは週のタスクを日次ビューで確認できる

### 6.3 データ管理（重要機能）
- ユーザーは過去のエントリーを閲覧・編集できる
- ユーザーはキーワードで過去のエントリーを検索できる
- ユーザーは統計・グラフで自分の傾向を分析できる
- ユーザーはデータをエクスポートできる（CSV、JSON等）
- ユーザーは複数デバイスでデータを同期できる

## 7. 技術要件（確定）

### 7.1 プラットフォーム（確定）
- ✅ **Webアプリケーション（PWA対応）**: スマートフォン（iPhone/Android）とパソコン（Mac/Windows）の両方に対応
- PWA（Progressive Web App）により、ネイティブアプリのような体験を提供
- ブラウザからインストール可能

### 7.2 データストレージ（確定）
- ✅ **ローカルストレージ（IndexedDB）**: オフライン動作のため
- ✅ **クラウド同期（必須）**: Firebase、Supabase、または自前のバックエンド
- ✅ **自動バックアップ機能**: 定期的なクラウドバックアップ

### 7.3 技術スタック（確定）
- **フロントエンド**: React + TypeScript
- **UIフレームワーク**: Tailwind CSS
- **状態管理**: Zustand
- **バックエンド/クラウド**: Firebase（Auth, Firestore）
- **オフライン対応**: IndexedDB (Dexie.js)
- **ビルドツール**: Vite

### 7.4 開発環境
- **IDE**: Cursor
- **バージョン管理**: Git

## 8. 実装優先順位（フェーズ分け）

### Phase 1: MVP（最小限の機能）- ウィークリープランニング優先
1. **ウィークリープランニングの基本機能**（最優先）
   - 今週の意図
   - 最優先事項（5つ）
   - 重要タスク（5つ）
   - 追加タスク（5つ）
   - 基本的なUI/UX（見た目・書きやすさ重視）
2. **ローカルデータ保存**（IndexedDB）
3. **過去データの閲覧機能**

### Phase 2: デイリープランニング
1. デイリープランニングの基本機能
   - 感謝、意図、最優先タスク、振り返り
2. タスクの進捗追跡
3. 週次・日次の連携

### Phase 3: トラッカー・タイムライン
1. トラッカー機能（ハビット、ムード、満足度）
2. タイムライン機能（06:00〜21:30、30分刻み）

### Phase 4: データ管理・分析（重要機能）
1. **検索機能**: 過去のエントリーをキーワードで検索
2. **統計・可視化機能**（優先）:
   - ハビットトラッカーの推移グラフ
   - ムード・満足度の推移
   - タスク完了率の統計
   - 時間使用の分析
3. **自動計算機能**: タスク時間の合計、進捗率の自動計算
4. エクスポート機能（CSV、JSON）

### Phase 5: クラウド同期・マルチデバイス対応（必須機能）
1. **認証機能**: ユーザー登録・ログイン
2. **クラウド同期**: 複数デバイス間でのデータ同期
3. **自動バックアップ**: 定期的なクラウドバックアップ
4. 同期競合の解決機能
5. PWA対応（オフライン動作 + インストール可能）

### Phase 6: 拡張機能（将来）
1. テンプレート機能
2. リマインダー・通知
3. AI要約・分析
4. その他の高度な機能

## 9. 制約事項・前提条件

### 9.1 技術的制約
- **オフライン動作必須**: インターネット接続なしでも利用可能
- **クラウド同期必須**: 複数デバイス間でのデータ同期
- **マルチプラットフォーム対応**: スマートフォン（iPhone/Android）とパソコン（Mac/Windows）
- プライバシー重視（データの暗号化、適切な認証）

### 9.2 開発環境・リソース
- **開発環境**: Cursorを使用した個人開発
- **開発者**: 自分自身
- 個人開発のため、開発リソースは限定的

### 9.3 優先事項
- **見た目・デザイン**: アナログ手帳の温かみを感じられるビジュアル
- **書きやすさ・操作性**: 直感的でストレスフリーな入力体験
- **検索・過去データ閲覧**: デジタル化のメリットを活かす
- **自動計算・統計**: データ分析による自己理解の促進

## 10. 確定事項・検討事項

### 10.1 確定事項 ✅
- ✅ **プラットフォーム**: Webアプリケーション（PWA）でスマートフォンとPCの両方に対応
- ✅ **データ管理**: ローカル保存（IndexedDB）+ クラウド同期（Firebase/Supabase）
- ✅ **バックアップ**: 自動バックアップ機能を実装
- ✅ **マルチユーザー対応**: 認証機能を実装（将来的に他のユーザーにも提供）
- ✅ **統計・可視化機能**: 優先機能として実装
- ✅ **検索・過去データ閲覧**: 必須機能として実装

### 10.2 検討事項（将来の拡張）
- [ ] リマインダー・通知機能
- [ ] AI要約・分析機能
- [ ] ソーシャル機能（共有、コミュニティ等）
- [ ] データ移行・インポート機能（既存データの取り込み）

### 10.3 その他（将来検討）
- [ ] モネタイゼーション戦略（無料/有料/サブスクリプション）
- [ ] マーケティング・プロモーション
- [ ] サポート・ドキュメント
- [ ] 多言語対応

